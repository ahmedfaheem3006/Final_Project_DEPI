<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุณุงุนุฏ ุตูุชู ุงุญุชุฑุงูู</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Socket.io Client -->
    <script src="https://cdn.socket.io/4.8.1/socket.io.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body class="w-full h-screen">

    <div id="avatar-container"></div>

    <!-- Chat History Sidebar -->
    <div id="history-sidebar" dir="ltr"
        class="fixed top-0 left-0 h-full w-64 bg-gray-900/95 backdrop-blur-md transform -translate-x-full transition-transform duration-300 z-30">
        <div class="p-4 h-full flex flex-col">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-bold text-white">ุงููุญุงุฏุซุงุช</h2>
                <button id="close-sidebar" class="text-gray-400 hover:text-white transition-colors">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <button id="new-chat-btn"
                class="w-full mb-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-colors shadow-md">
                โ ูุญุงุฏุซุฉ ุฌุฏูุฏุฉ
            </button>
            <div id="chat-list" class="flex-1 overflow-y-auto space-y-2 pe-2">
                <!-- Chat history items will be added here -->
            </div>
        </div>
    </div>

    <main id="ui-container" class="w-full h-screen flex flex-col justify-between p-4">

        <div class="absolute top-4 right-4 z-20 flex gap-2">
            <button id="lang-toggle-button"
                class="h-10 w-10 rounded-full bg-gray-700/80 p-2 text-white hover:bg-gray-600 transition-all font-bold text-sm">
                EN
            </button>
            <button id="theme-toggle-button"
                class="h-10 w-10 rounded-full bg-gray-700/80 p-2 text-white hover:bg-gray-600 transition-all">
                <svg id="theme-icon-sun" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-6.364-.386 1.591-1.591M3 12h2.25m.386-6.364 1.591 1.591" />
                </svg>
                <svg id="theme-icon-moon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                    stroke-width="1.5" stroke="currentColor" class="w-6 h-6 hidden">
                    <path stroke-linecap="round" stroke-linejoin="round"
                        d="M21.752 15.002A9.718 9.718 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25c0 5.385 4.365 9.75 9.75 9.75 3.974 0 7.404-2.368 8.998-5.998Z" />
                </svg>
            </button>
        </div>

        <div class="absolute top-4 left-4 z-20 flex items-center gap-3">
            <button id="toggle-history"
                class="h-10 w-10 rounded-full bg-gray-700/80 p-2 text-white hover:bg-gray-600 transition-all">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"></line>
                    <line x1="3" y1="6" x2="21" y2="6"></line>
                    <line x1="3" y1="18" x2="21" y2="18"></line>
                </svg>
            </button>
            <div class="logo">RG</div>
        </div>

        <div class="relative w-full max-w-2xl mx-auto flex-1 flex flex-col justify-end">
            <div id="chat-history" class="max-h-[60vh] overflow-y-auto pr-4 pb-8">
                <div class="flex flex-col space-y-4 mb-5">
                    <div class="flex justify-start">
                        <div id="welcome-message" class="chat-bubble assistant">ูุฑุญุจุงู ุจู! ูุนู ุดุฑูุฉ RGุ ููู ูููููู
                            ูุณุงุนุฏุชู ุงููููุ</div>
                    </div>
                </div>
            </div>
        </div>

        <form id="chat-form" class="relative w-full max-w-2xl mx-auto">
            <div class="relative border border-gray-700 rounded-lg bg-gray-900/60 backdrop-blur-md shadow-sm">
                <textarea id="text-prompt-input"
                    class="w-full rounded-md border-0 py-4 ps-4 pe-24 text-base bg-transparent placeholder:text-gray-500 focus:ring-0 resize-none"
                    placeholder="Ask me anything..." rows="1"></textarea>
                <div class="absolute end-3 bottom-3 flex items-center gap-2">
                    <!-- Design Button -->
                    <button id="design-button"
                        class="inline-flex items-center justify-center h-10 w-10 rounded-full bg-purple-600 hover:bg-purple-700 transition-colors"
                        title="Generate Design / Upload Image" type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            <circle cx="8.5" cy="8.5" r="1.5"></circle>
                            <polyline points="21 15 16 10 5 21"></polyline>
                        </svg>
                    </button>
                    <input type="file" id="image-upload" accept="image/*" style="display: none;">

                    <!-- Mic Button -->
                    <button id="mic-button"
                        class="mic-button inline-flex items-center justify-center h-10 w-10 rounded-full bg-gray-700/80 hover:bg-gray-600 transition-all"
                        type="button">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z"></path>
                            <path d="M19 10v2a7 7 0 0 1-14 0v-2"></path>
                            <line x1="12" x2="12" y1="19" y2="22"></line>
                        </svg>
                    </button>
                    <button id="send-text-button"
                        class="inline-flex items-center justify-center h-10 w-10 rounded-full bg-blue-600 hover:bg-blue-700 transition-colors disabled:opacity-50"
                        type="submit">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z">
                            </path>
                            <path d="m21.854 2.147-10.94 10.939"></path>
                        </svg>
                    </button>
                </div>
            </div>
            <p id="status" class="h-5 mt-2 text-center text-sm text-gray-400">&nbsp;</p>
        </form>

        <!-- Quick Actions -->
        <div class="w-full max-w-2xl mx-auto mt-4 overflow-x-auto">
            <div class="flex gap-2 pb-2 justify-center flex-wrap">
                <button id="btn-show-furniture" onclick="quickAction('ุนุฑุถ ุงูุฃุซุงุซ')"
                    class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐ช
                    ุนุฑุถ ุงูุฃุซุงุซ</button>
                <button id="btn-my-items" onclick="quickAction('ุนุฑุถ ุงููู ุถูุช')"
                    class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐
                    ุงููู ุถูุช</button>
                <button id="btn-colors" onclick="quickAction('ุงูุฃููุงู')"
                    class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐จ
                    ุงูุฃููุงู</button>
                <button id="btn-materials" onclick="quickAction('ุงูููุงุฏ')"
                    class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐๏ธ
                    ุงูููุงุฏ</button>
                <button id="btn-help" onclick="quickAction('ุงููุณุงุนุฏุฉ')"
                    class="px-4 py-2 bg-gray-700/50 hover:bg-gray-600 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐
                    ุงููุณุงุนุฏุฉ</button>
                <button id="btn-send" onclick="quickAction('ุงุฑุณุงู')"
                    class="px-4 py-2 bg-green-600/50 hover:bg-green-700 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐ค
                    ุงุฑุณุงู</button>
                <button id="btn-clear" onclick="clearChat()"
                    class="px-4 py-2 bg-red-900/50 hover:bg-red-700 rounded-full text-sm text-white transition-colors whitespace-nowrap">๐๏ธ
                    ูุณุญ ุงููู</button>
            </div>
        </div>
    </main>

    <script type="module" src="script.js"></script>
</body>

</html>